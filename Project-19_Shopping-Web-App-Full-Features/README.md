# 1. Platform Setup
## 001 Deploy EKS Cluster
- IAM Add user
```
eos_admin
provide user access
Autogenerated
# Attach policies
Administrator access
# Create access key
```
- AWS Configure

- Have code repository : https://bitbucket.org/dptrealtime/terraform/src/master/

```
# In stall terraform

# 1. Apply backen
cd backend
terraform init
terraform apply
# 
cd terraform/eks
terraform init
terraform apply

# Install kubectl on window

aws eks update-kubeconfig --name ed-eks-01 --region us-east-1
kubectl get nodes
```

## 002 Setup AWS VPC
```
cd terraform/vpc
terraform init
terraform apply
```

## 003 Create Kubectl client
```
kubectl get nodes
# Launch an instance : k8s-client
# Then install aws cli | kubectl | Then do the same 
aws configure
aws eks update-kubeconfig --name ed-eks-01 --region us-east-1
kubectl get nodes
kubectl create ns dev
kubectl create ns qa
kubectl create ns perf
kubectl create ns prod
```
## 004 Kafka Cluster Setup
- AWS Console : MSK 
- Create cluster 
```
Custom create
eos-kafka-01
provisioned
kafka t3.small
number of zones : 2
10
VPC : eos
SG : default
# Secirity
Unauthenticated acess
Plaintext
X TLS encryption

```

```
bin/kafka-topics.sh --create --topic ed -topic-1 --bootstrap-server localhost{change}:9092
```
- Add 9092 in SG 
- Kafka dowmload in instances
```
cd /opt
wget {link}
ls -l

amazon-linux-extras install java-openjdk11 -y

bin/kafka-topics.sh --create --topic ed-topic-1 --bootstrap-server localhost{change}:9092
```

## 005 MySQL Setup